<sample>
serviceJS = `
def OnStart():
    i = 0
    setInterval( function()app.ShowPopup(i++);, 2000 )

def OnMessage( msg):
    <b>if  msg == "fg" : app.SetInForeground( "My Service", "Service is running", "/Sys/Img/Hello.png", "/Sys/Img/Icon.png", "low")
    elif  msg == "bg" ) app.SetInBackground(:</b>`

def OnStart():
    app.WriteFile( "Service.js", serviceJS )

	lay = app.CreateLayout( "linear", "VCenter,FillXY" )

	tgl = app.CreateToggle( "Foreground", 0.3, 0.1 )
	tgl.SetOnTouch( tgl_OnTouch )
	lay.AddChild( tgl )

	app.AddLayout( lay )

	svc = app.CreateService( "this", "this", OnSvcStart )

def tgl_OnTouch( fg ):
    if  fg : svc.SendMessage( "fg" )
    else: svc.SendMessage( "bg" )
</sample>
